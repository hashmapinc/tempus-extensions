{
  "name": "Well message log Rule",
  "state": "SUSPENDED",
  "weight": 0,
  "pluginToken": "kafka-spark-streaming-sample",
  "filters": [
    {
      "configuration": {
        "messageTypes": [
          "POST_TELEMETRY"
        ]
      },
      "name": "MsgTypeFilter",
      "clazz": "org.thingsboard.server.extensions.core.filter.MsgTypeFilter"
    }
  ],
  "processor": null,
  "action": {
    "configuration": {
      "sync": true,
      "topic": "well-log-msg-data",
      "template": "#if($tags.size() > 0)\n\t[\n\t\t#foreach ($tag in $tags)\n#if($tag.key!=\"Message\")\n#if($velocityCount < $tags.size())%!%#end\n#end\n#if($tag.key==\"Message\")\n\t\t  {\"id\": \"MESSAGELOG:$tag.key@$cs.nameWellbore@$cs.nameWell\", \"tsds\": \"$tag.ts\", \"value\": \"$tag.valueAsString\"}\n\t\t  #if($velocityCount < $tags.size())%!%#end\n\t\t#end\n\t]\n#end\n#end"
    },
    "clazz": "org.thingsboard.server.extensions.kafka.action.KafkaPluginAction",
    "name": "WellMessageLog"
  },
  "additionalInfo": null
}